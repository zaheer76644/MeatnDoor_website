fragment OrderDetails on Order {
	id
	number
	created
	status
	metadata {
		key
		value
	}

	# Totals
	total {
		gross {
			amount
			currency
		}
	}
	subtotal {
		gross {
			amount
			currency
		}
	}
	# Voucher / Discount
	voucherCode
	discountName # fallback for older versions
	discounts {
		name
		amount {
			amount
			currency
		}
	}
	discount {
		amount
		currency
	}

	# Payment status
	paymentStatus

	# Shipping info
	shippingAddress {
		streetAddress1
		streetAddress2
		city
		postalCode
		country {
			code
			country
		}
		phone
	}
	deliveryMethod {
		__typename
		... on ShippingMethod {
			id
			name
			price {
				amount
				currency
			}
			minimumDeliveryDays
			maximumDeliveryDays
		}
		... on Warehouse {
			id
			name
		}
	}
	shippingMethods {
		id
		name
		price {
			amount
			currency
		}
		minimumDeliveryDays
		maximumDeliveryDays
	}
	shippingPrice {
		gross {
			amount
			currency
		}
	}

	# Order lines
	lines {
		quantity
		productName
		unitPrice {
			gross {
				amount
				currency
			}
		}
		undiscountedUnitPrice {
			gross {
				amount
				currency
			}
		}
		variant {
			id
			name
			sku
			attributes(variantSelection: ALL) {
				attribute {
					id
					name
					slug
				}
				values {
					id
					name
					translation(languageCode: EN) {
						name
					}
				}
			}
			product {
				id
				name
				description
				slug
				thumbnail {
					url
					alt
				}
				category {
					id
					name
				}
			}
			pricing {
				price {
					gross {
						amount
						currency
					}
				}
			}
		}
		totalPrice {
			gross {
				amount
				currency
			}
		}
	}
}
